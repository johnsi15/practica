<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Socket.IO</title>
	<script type="text/javascript" src="http://localhost:8080/socket.io/socket.io.js"></script>
</head>
<body>

<input id="mensaje" type="text"><br>
<button id="enviar_mensaje">Click</button>
<hr>
<div id="resultados"></div>

<script type="text/javascript">
	var resultados = document.getElementById('resultados');

	socket = io.connect('http://localhost:8080');

	socket.on('connect', function(){
		resultados.innerHTML = 'Conectado';
	});
	/* WebSockets Nativo */
	// socket.on('message', function(mensaje){
	// 	resultados.innerHTML += '<br>'+mensaje;
	// });
	// document.getElementById('enviar_mensaje').addEventListener('click', function(){
	// 	socket.send(document.getElementById('mensaje').value);
	// });

	/* WebSockets Socket.IO */
	socket.on('mensaje desde servidor', function(mensaje){
		resultados.innerHTML += '<br>'+mensaje;
	});
	document.getElementById('enviar_mensaje').addEventListener('click', function(){
		socket.emit('mensaje desde cliente', document.getElementById('mensaje').value);
	});
</script>
</body>
</html>